# 2025-09-16 - Minted Dev Diary

## Intent
Start clean from remote, add an Xcode project skeleton with unit tests, enforce repo hygiene, and begin the models layers for Minted.

## Work Log (UK local time, BST/UTC+1)
- 18:54 (yesterday) - Initialised repo with README, LICENSE, gitignore, attributes, editorconfig, commit template.
- 19:06 (yesterday) - Added docs scaffolding: log template, roadmap, backlog, ADR template, notes, PR + issue templates.
- 19:19 (yesterday) - Wrote source-of-truth design snapshot.
- 19:24 (yesteday) - Linked repo to remote and confirmed GitHub backup working.


- 01:27 - Planning next step: first daily log and model file later.
- 17:10 - Cloned clean repo from GitHub; confirmed branch and remote.
- 17:25 - Added .gitattributes and .editorconfig; set GitHub noreply email; amended commit; pushed.
- 17:40 - Created Minted Xcode project (SwiftUI, Unit Tests only, Storage = None); verified folder layout.
- 17:50 - Strengthened .gitignore; untracked xcuserdata/xcuserstate; ensured clean status.
- 18:05 - Created real Models/ folder on disk under Minted/Minted/.
- 18:25 - Scaffolded CareEvent.swift with purpose header. Commit: chore(models): scaffold CareEvent.swift with purpose header.
- 18:40 - Implemented CareType enum (Water/Prune/Repot) with verb and symbolName. Commit: feat(models): add CareType enum for care actions.
- 19:03 - Implemented CareEvent struct (id, type, date, note, photoRef). Commit: feat(models): implement CareEvent struct.
- 19:24 - Added convenience extension (summary, formattedDate). Commit: feat(models): add CareEvent conveniences.
- 19:38 - Added unit test for CareEvent summary formatting. Commit: test(models): add unit test for CareEvent summary (verb, note, date).
- 19:40 - Test run: confirmed MintedTests executes; app launched due to host settings; noted how to switch to Logic Tests if desired.
- 20:09 - Scaffolded HealthStats.swift with purpose header only. Commit: chore(models): scaffold HeaderStats.swift with purpose header.
- 21:48 - Implemented HealthStats with 0-100 clamping and adjusting helpers (no derived signal yet). Commit: feat(models): implement HealthStats (hydration/vigor/growth/light 0-100 with clamping + adjusting helpers).
- 22:10 - Scoped Band enum inside HealthStats extension to resolve file-scope issue. Commit: feat(models): scope Band enum inside HealthStats extension for overallBand.
- 22:21 - Added unit tests for HealthStats.overallBand thresholds (healthy/okay/needsCare) and verified execution in Test navigator. Commit: test(models): add overallBand threshold tests for HealthStats.

## Decisions
- Keep models inside the app target for speed; consider extracting to a MintedKit package later (for widgets/watch).
- Unit tests are in; UI tests will come after the Home UI stabilises.
- Use GitHub noreply email to avoid GH007 privacy blocks.
- For tests, prefer Logic Tests (Host Application = None) to avoid simulator launch during unit tests.

## Notes / Potential Hazards
- Xcode regenerates xcuserdata on open; .gitignore must block **/*.xcuserdatad and **/*.xcuserstate.
- If you reset --hard and lose uncommited files, Git cannot recover them (use daily commits and the log template).
- If you need to recover a just-removed commit, use `git reflog` and `git checkout <hash> -- <path>`.

## Next Session
- [X] Add HealthStats.swift (Hydration, Vigor, Growth, Light - 0-100 with clamping + helpers)
- [X] Implement HealthStats struct (hydration, vigor, growth, light with clamping + helpers)
- [X] Add HealthStats.overallBand (healthy/okay/needsCare)
- [X] Add unit test to verify overall band.
- [ ] Add unit tests for HealthStats clamping (e.g., -10 → 0, 200 → 100)
- [ ] Add unit tests for HealthStats adjusting helpers (e.g., hydration +15, clamped at 100)
- [ ] Add edge-case tests for overallBand boundaries (avg == 75, avg == 40)
- [ ] Begin Plant.swift model
